<Module><ModulePrefs title="Example Gadget"><Require feature="opensocial-0.5" /></ModulePrefs><Content type="html"><![CDATA[<p class="p1 p2">Paragraph 1<span id="id_2___"></span></p><p id="id_3___">Paragraph 2<span id="id_4___"></span></p><p><a id="id_5___" target="_blank">Paragraph 3</a></p><a href="http://url-proxy.test.google.com/?url=http%3a%2f%2ffoo.com%2f&amp;mime-type=%2a%2f%2a" target="_blank">External URL.  Apply URICallback.rewrite to me.</a><script type="text/javascript">{
  ___.loadModule({
      'instantiate': function (___, IMPORTS___) {
        return ___.prepareModule({
            'instantiate': function (___, IMPORTS___) {
              var moduleResult___, el___, emitter___;
              moduleResult___ = ___.NO_RESULT;
              {
                IMPORTS___.emitCss___([ '.', ' #p3-',
                    ' {\n  color: red\n}\n@media print {\n  .', ' #p3-',
                    ' {\n    font-weight: bold;\n    color: black\n  }\n}\n@media print, screen {\n  .',
                    ' .p4 {\n    font-weight: bold\n  }\n}\n.',
                    ' .p1 {\n  color: red\n}' ].join(IMPORTS___.getIdClass___()
                  ));
                emitter___ = IMPORTS___.htmlEmitter___;
                emitter___.discard(emitter___.attach('id_2___'));
              }
              return moduleResult___;
            },
            'cajolerName': 'com.google.caja',
            'cajolerVersion': 'testBuildVersion',
            'cajoledDate': 0
          })(IMPORTS___), ___.prepareModule({
            'instantiate': function (___, IMPORTS___) {
              var $v = ___.readImport(IMPORTS___, '$v', {
                  'getOuters': { '()': {} },
                  'initOuter': { '()': {} },
                  'so': { '()': {} },
                  'cf': { '()': {} },
                  'ro': { '()': {} },
                  'dis': { '()': {} }
                });
              var moduleResult___, $dis;
              moduleResult___ = ___.NO_RESULT;
              $dis = $v.getOuters();
              $v.initOuter('onerror');
              try {
                {
                  $v.so('externalScript',
                    ___.markFuncFreeze(function () {
                        var externalScript;
                        function externalScript$_caller($dis) {
                          $v.cf($v.ro('alert'), [ 'external script' ]);
                        }
                        externalScript$_caller.FUNC___ =
                          'externalScript$_caller';
                        externalScript =
                          $v.dis(___.primFreeze(externalScript$_caller),
                          'externalScript');
                        return externalScript;
                      }).CALL___());
                }
              } catch (ex___) {
                ___.getNewModuleHandler().handleUncaughtException(ex___,
                  $v.ro('onerror'), 'external-script.js', '2');
              }
              return moduleResult___;
            },
            'cajolerName': 'com.google.caja',
            'cajolerVersion': 'testBuildVersion',
            'cajoledDate': 0
          })(IMPORTS___), ___.prepareModule({
            'instantiate': function (___, IMPORTS___) {
              var moduleResult___, el___, emitter___;
              moduleResult___ = ___.NO_RESULT;
              {
                emitter___ = IMPORTS___.htmlEmitter___;
                el___ = emitter___.byId('id_3___');
                emitter___.setAttr(el___, 'id', 'p3-' +
                  IMPORTS___.getIdClass___());
                emitter___.discard(emitter___.attach('id_4___'));
              }
              return moduleResult___;
            },
            'cajolerName': 'com.google.caja',
            'cajolerVersion': 'testBuildVersion',
            'cajoledDate': 0
          })(IMPORTS___), ___.prepareModule({
            'instantiate': function (___, IMPORTS___) {
              var $v = ___.readImport(IMPORTS___, '$v', {
                  'getOuters': { '()': {} },
                  'initOuter': { '()': {} },
                  'ts': { '()': {} },
                  'construct': { '()': {} },
                  'ro': { '()': {} }
                });
              var moduleResult___, $dis;
              moduleResult___ = ___.NO_RESULT;
              $dis = $v.getOuters();
              $v.initOuter('onerror');
              try {
                {
                  throw $v.ts($v.construct($v.ro('Error'), [
                        'Failed to load no-such-file.js' ]));
                }
              } catch (ex___) {
                ___.getNewModuleHandler().handleUncaughtException(ex___,
                  $v.ro('onerror'), 'example.xml', '28');
              }
              return moduleResult___;
            },
            'cajolerName': 'com.google.caja',
            'cajolerVersion': 'testBuildVersion',
            'cajoledDate': 0
          })(IMPORTS___), ___.prepareModule({
            'instantiate': function (___, IMPORTS___) {
              var $v = ___.readImport(IMPORTS___, '$v', {
                  'getOuters': { '()': {} },
                  'initOuter': { '()': {} },
                  's': { '()': {} },
                  'ro': { '()': {} },
                  'cf': { '()': {} },
                  'dis': { '()': {} }
                });
              var moduleResult___, $dis;
              moduleResult___ = ___.NO_RESULT;
              $dis = $v.getOuters();
              $v.initOuter('onerror');
              try {
                {
                  moduleResult___ = $v.s($v.ro('outers'), 'handleClicky',
                    ___.markFuncFreeze(function () {
                        var handleClicky;
                        function handleClicky$_caller($dis) {
                          $v.cf($v.ro('alert'), [ 'You clicked something!!!' ])
                            ;
                        }
                        handleClicky$_caller.FUNC___ = 'handleClicky$_caller';
                        handleClicky =
                          $v.dis(___.primFreeze(handleClicky$_caller),
                          'handleClicky');
                        return handleClicky;
                      }).CALL___());
                }
              } catch (ex___) {
                ___.getNewModuleHandler().handleUncaughtException(ex___,
                  $v.ro('onerror'), 'example.xml', '37');
              }
              return moduleResult___;
            },
            'cajolerName': 'com.google.caja',
            'cajolerVersion': 'testBuildVersion',
            'cajoledDate': 0
          })(IMPORTS___), ___.prepareModule({
            'instantiate': function (___, IMPORTS___) {
              var $v = ___.readImport(IMPORTS___, '$v', {
                  'getOuters': { '()': {} },
                  'initOuter': { '()': {} },
                  'cf': { '()': {} },
                  'ro': { '()': {} }
                });
              var moduleResult___, $dis, el___, emitter___, c_1___;
              moduleResult___ = ___.NO_RESULT;
              $dis = $v.getOuters();
              $v.initOuter('onerror');
              {
                emitter___ = IMPORTS___.htmlEmitter___;
                el___ = emitter___.byId('id_5___');
                c_1___ = ___.markFuncFreeze(function (event, thisNode___) {
                    $v.cf($v.ro('handleClicky'), [ ]);
                  });
                el___.onclick = function (event) {
                  return plugin_dispatchEvent___(this, event,
                    ___.getId(IMPORTS___), c_1___);
                };
                el___.removeAttribute('id');
                el___ = emitter___.finish();
                emitter___.signalLoaded();
              }
              return moduleResult___;
            },
            'cajolerName': 'com.google.caja',
            'cajolerVersion': 'testBuildVersion',
            'cajoledDate': 0
          })(IMPORTS___);
      },
      'cajolerName': 'com.google.caja',
      'cajolerVersion': 'testBuildVersion',
      'cajoledDate': 0
    });
}</script>]]></Content></Module>
